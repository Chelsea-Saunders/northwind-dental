(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();function p(){const t=document.querySelector("#toggle-menu"),e=document.querySelector("#global-nav"),o=document.querySelector(".global-header");if(!t||!e||!o)return;const r=t.getAttribute("data-menu-open")==="true";t.setAttribute("data-menu-open",String(!r)),t.setAttribute("aria-expanded",String(!r)),e.classList.toggle("open"),t.classList.toggle("open"),o.classList.toggle("menu-open")}const g='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',d=new Map;function S(t,e){d.set(t,e)}function c(t,e=!0){const o=document.getElementById(t);if(o)if(e){o._lastActiveElement=document.activeElement;const r=d.get(t);if(r){const n=o.querySelector(".modal-content");if(n&&n.innerHTML.trim()===""){const a=r(n);o._cleanup=a}}o.classList.remove("hidden"),o.removeAttribute("inert"),o.setAttribute("aria-hidden","false"),document.body.classList.add("modal-open"),b(o)}else h(o),o.querySelectorAll("*").forEach(n=>n.blur()),o.classList.add("hidden"),o.setAttribute("aria-hidden","true"),o._lastActiveElement&&(o._lastActiveElement.focus(),o._lastActiveElement=null),typeof o._cleanup=="function"&&(o._cleanup(),o._cleanup=null),document.querySelector(".modal:not(.hidden)")||document.body.classList.remove("modal-open")}function b(t){const e=[...t.querySelectorAll(g)].filter(a=>!a.disabled&&a.offsetParent!==null);if(!e.length){t.setAttribute("tabindex","-1"),t.focus();return}const o=e[0],r=e[e.length-1];o?.focus();function n(a){a.key==="Tab"&&(a.shiftKey?document.activeElement===o&&(a.preventDefault(),r.focus()):document.activeElement===r&&(a.preventDefault(),o.focus()))}t._trapHandler=n,t.addEventListener("keydown",n)}function h(t){t._trapHandler&&(t.removeEventListener("keydown",t._trapHandler),t._trapHandler=null)}document.addEventListener("click",t=>{if(t.target.classList?.contains("close-modal")){const e=t.target.closest(".modal");e?.id&&c(e.id,!1)}});document.addEventListener("keydown",t=>{t.key==="Escape"&&document.querySelectorAll(".modal:not(.hidden)").forEach(e=>{c(e.id,!1)})});function y(t){const e=t.querySelectorAll("[required]");let o=!0;return e.forEach(r=>{const n=r.value.trim();let a=!0;n||(a=!1),fieldValid&&r.type==="email"&&!l(r.value)&&(o=!1),a&&r.type==="tel"&&n.replace(/\D/g,"").length<10&&(a=!1),r.classList.toggle("error",!a),r.setAttribute("aria-invalid",String(!fieldValie)),a||(o=!1)}),o}function i(t){t.style.height="0px",t.style.height=t.scrollHeight+"px"}function l(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function v(t){const e=t.replace(/\D/g,"").slice(0,10);let o="";return e.length>0&&(o+=e.substring(0,3)),e.length>=4&&(o+="-"+e.substring(3,6)),e.length>=7&&(o+="-"+e.substring(6,10)),o}function L(t){t.querySelectorAll("input, textarea, select").forEach(e=>{e.type==="checkbox"||e.type==="radio"?e.checked=!1:e.value="",e.classList.remove("error"),e.setAttribute("aria-invalid","false"),e.tagName==="TEXTAREA"&&i(e)})}function u(t){const e=document.createElement("div");e.className="submission-message",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.textContent=t,document.body.appendChild(e),setTimeout(()=>e.remove(),2e3)}function E(t){t.innerHTML=`
        <span class="close-modal" aria-label="Close Modal">&times;</span>
        <h2 id="appt-h2">Contact Us</h2>
        <form id="appointment-form" novalidate>
            <label for="full-name">Full Name:</label>
            <input type="text" id="full-name" name="full-name" autocomplete="name" placeholder="First and Last Name" required>
            
            <label for="appt-form-email">Email:</label>
            <input type="email" id="appt-form-email" name="appt-form-email" autocomplete="email" placeholder="email@email.com" required>
            
            <label for="appt-form-phone">Phone Number:</label>
            <input type="tel" id="appt-form-phone" inputmode="tel" maxlength="12" name="appt-form-phone" autocomplete="tel" placeholder="(123)456-7890" required>
            
            <label for="appt-form-message">Reason or Comments:</label>
            <textarea id="appt-form-message" name="appt-form-message" placeholder="Your message here..." required></textarea>
            
            <button type="submit" class="appt-form-submit-button">Submit</button>
            <p id="form-feedback" aria-live="polite" class="hidden"></p>

            <p id="contact">
            You can also contact our office at 
                <a href="tel:+19073732440" aria-label="Call our office at (907) 373-2440" class="phone-number-link">
                    (907) 373-2440
                </a>
            </p>
        </form>
    `;const e=t.querySelector("#appointment-form"),o=t.querySelector("#appt-form-email"),r=t.querySelector("#appt-form-phone"),n=t.querySelector("#appt-form-message"),a=t.querySelector("#form-feedback");return[o,r,n].forEach(s=>{s?.addEventListener("input",()=>a?.classList.add("hidden"))}),n&&(i(n),n.addEventListener("input",()=>i(n))),r&&r.addEventListener("input",s=>{const m=s.target.selectionStart,f=s.target.value;s.target.value=v(f),s.target.selectionStart=s.target.selectionEnd=Math.min(m,s.target.value.length)}),o&&o.addEventListener("input",()=>{o.classList.toggle("error",!l(o.value)),o.setAttribute("aria-invalid",!l(o.value))}),e&&e.addEventListener("submit",s=>{s.preventDefault(),y(e)?(a&&(a.textContent="Form submitted successfully!",a.classList.remove("hidden")),u("Form submitted successfully!"),L(e),a&&a.classList.add("hidden"),n&&i(n)):(a&&(a.textContent="Please fix these errors",a.classList.remove("hidden")),u("Please fix these errors"))}),()=>{}}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#toggle-menu"),e=document.querySelector("#appointment-form-container");t&&t.addEventListener("click",p),e&&E(e),document.addEventListener("click",o=>{const r=o.target.closest(".modal-button, .contact-button-header");if(r){const n=r.dataset.modal;n&&c(n)}o.target.classList.contains("close-modal")&&o.target.closest(".modal")?.classList.add("hidden")})});export{E as b,S as r,c as t};
